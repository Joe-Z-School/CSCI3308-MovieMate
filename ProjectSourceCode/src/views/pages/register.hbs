<style>
    .page-container {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
    }

    .form-section {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-grow: 1;
        padding-top: 20px;
        padding-bottom: 20px;
    }

     .icon-row img {
        margin: 2px;
        cursor: pointer;
        border-radius: 50%; 
        border: 2px solid transparent;  
        transition: border 0.3s ease, box-shadow 0.3s ease; 
        object-fit: cover;  
    }

    .icon-row img.selected {
        border: 3px solid #5F4B8B; 
    }

</style>
{{> title}}
<div class="page-container">
    <div class="form-section">
        <div class="form-container">
            <h2>Register</h2>
            <form action="/register" method="POST">
                <div>
                    <label for="first_name">First Name</label>
                    <input type="text" id="first_name" name="first_name" class="form-control" required>
                </div>

                <div>
                    <label for="last_name">Last Name</label>
                    <input type="text" id="last_name" name="last_name" class="form-control" required>
                </div>

                <div>
                    <label for="username">Username</label>
                    <input type="text" id="username" name="username" class="form-control" required>
                </div>

                <div>
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" class="form-control" required>
                </div>

                <div>
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" class="form-control" required>
                </div>

                <div>
                    <label for="profile_icon">Select Profile Icon:</label>
                    <div class="product-container">
                         <div class="icon-row">
                            <img src="../../resources/img/Profile_pic_option_1.png" width="60" height="60" alt="profile_icon" data-image="Profile_pic_option_1.png">
                            <img src="../../resources/img/profile_pic_option_2.png" width="60" height="60" alt="profile_icon" data-image="Profile_pic_option_2.png">
                            <img src="../../resources/img/profile_pic_option_3.png" width="60" height="60" alt="profile_icon" data-image="Profile_pic_option_3.png">
                            <img src="../../resources/img/profile_pic_option_4.png" width="60" height="60" alt="profile_icon" data-image="Profile_pic_option_4.png">
                            <img src="../../resources/img/profile_pic_option_5.png" width="60" height="60" alt="profile_icon" data-image="Profile_pic_option_5.png">
                            <img src="../../resources/img/profile_pic_option_6.png" width="60" height="60" alt="profile_icon" data-image="Profile_pic_option_6.png">
                        </div>
                    </div>

                    <!-- Hidden input field to store selected profile icon -->
                    <input type="hidden" id="profile_icon" name="profile_icon">
                </div>

                <div>
                    <label for="bio">Your Bio</label>
                    <textarea id="bio" name="bio" class="form-control"></textarea>
                </div>

                <button type="submit" class="btn-login">Register</button>
                <div class="mt-3">
                    <p class="mb-0">Have an account already? <a href="/login">Login</a></p>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
    const profileIcons = document.querySelectorAll('.icon-row img'); 
    const profileIconInput = document.getElementById('profile_icon'); 

    profileIcons.forEach(icon => {
        icon.addEventListener('click', function() {
            profileIcons.forEach(icon => icon.classList.remove('selected'));
            
            this.classList.add('selected');
            
            const selectedIcon = this.getAttribute('data-image');
            profileIconInput.value = selectedIcon;

            console.log('Selected Icon:', selectedIcon); 
        });
    });
});
</script>